(this["webpackJsonpfood-reminder"]=this["webpackJsonpfood-reminder"]||[]).push([[0],{13:function(e,t,n){e.exports={itemTag:"Home_itemTag__2tM5m",itemTagTime:"Home_itemTagTime__3MI3S",itemTagComment:"Home_itemTagComment__1haJH",itemTagMore:"Home_itemTagMore__ovSbv",toolbar:"Home_toolbar__3AGqh",toolbarToggle:"Home_toolbarToggle__2oSg7",toolbarCheckbox:"Home_toolbarCheckbox__3HxwP",header:"Home_header__31p1I",dialogCancelBtn:"Home_dialogCancelBtn__2OS-A",dialogConfirmBtn:"Home_dialogConfirmBtn__3bM_B"}},17:function(e,t,n){e.exports={headerBackBtn:"NewPage_headerBackBtn__1Gbkn",form:"NewPage_form__1OlwF",toggleDiv:"NewPage_toggleDiv__2rY4A",formSubmit:"NewPage_formSubmit__14eAv",name:"NewPage_name__3yGes",category:"NewPage_category__3YlE6",expireInDays:"NewPage_expireInDays__32Y4v",expireDate:"NewPage_expireDate__2knjQ",comment:"NewPage_comment__37k5I"}},80:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=(n(80),n(37)),s=n(7),l=n(18),j=n(13),m=n.n(j),b=n(2);var d=function(e){var t=e.category;return Object(b.jsx)("div",{className:m.a.header,style:{color:t.textColor,backgroundColor:t.color},children:t.name})};var x=function(e){var t=""+(e.getMonth()+1),n=""+e.getDate(),a=""+e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[a,t,n].join("-")},u=n(59),O=n.n(u),h=[{name:"\u6c34\u679c",id:"fruits",color:"#42a5f5",textColor:"#f5f5f5"},{name:"\u852c\u83dc",id:"vegetables",color:"#8bc34a",textColor:"#f5f5f5"},{name:"\u8089\u7c7b",id:"meat",color:"#FF5722",textColor:"#f5f5f5"},{name:"\u5e72\u8d27",id:"dry-foods",color:"#FEA82F",textColor:"#f5f5f5"},{name:"\u5176\u4ed6",id:"others",color:"#cfd8dc",textColor:"#757575"}],g=8.64*Math.pow(10,7);function f(e,t){return Math.floor(Math.abs((new Date(e).getTime()-new Date(t).getTime())/g))}var v=n(64),p=n.n(v),_=n(63),C=n.n(_),y=n(117),D=n(119),w=n(115),N=n(116),S=Object(a.createContext)();var T=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],j=i[1],m=Object(a.useState)(""),d=Object(l.a)(m,2),u=d[0],O=d[1],h=Object(a.useState)(x(new Date)),g=Object(l.a)(h,2),v=g[0],p=g[1],_=Object(a.useState)(0),C=Object(l.a)(_,2),y=C[0],D=C[1],w=function(e,t,n,a){r(e),j(t),O(a),p(n),D(f(x(new Date),n))};return Object(b.jsx)(S.Provider,{value:{name:c,setName:r,category:s,setCategory:j,comment:u,setComment:O,expireDate:v,setExpireDate:p,expireInDays:y,setExpireInDays:D,setNewItem:w,resetNewItem:function(){w("","",x(new Date),"")}},children:e.children})},k=Object(a.createContext)();function I(){var e=Object(a.useContext)(k),t=e.open,n=e.setOpen,c=e.deleteItem,r=function(){n(!1)};return Object(b.jsxs)(y.a,{open:t,onClose:r,children:[Object(b.jsx)(D.a,{children:"\u786e\u8ba4\u5220\u9664\uff1f"}),Object(b.jsx)(w.a,{children:"\u662f\u5426\u8981\u5220\u9664\u8fd9\u9879\u7269\u54c1\uff1f\u4e00\u65e6\u786e\u8ba4\uff0c\u8be5\u7269\u54c1\u5c06\u88ab\u6c38\u4e45\u5220\u9664\u3002"}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)("div",{onClick:r,className:m.a.dialogCancelBtn,children:"\u53d6\u6d88"}),Object(b.jsx)("div",{onClick:c,className:m.a.dialogConfirmBtn,children:"\u786e\u8ba4"})]})]})}var B=function(e){var t,n=e.item,c=Object(s.g)(),r=Object(a.useContext)(G),o=r.focus,i=r.setFocus,j=Object(a.useContext)(S).setNewItem,d=Object(a.useState)(!1),u=Object(l.a)(d,2),g=u[0],v=u[1],_=h.find((function(e){return e.id===n.category})),y=f(x(new Date),n.expireDate);t=y<=3?"#c23b0a":y<=7?"#cf9911":"#2b9611";var D=_.color;return Object(b.jsx)(k.Provider,{value:{open:g,setOpen:v,deleteItem:function(){console.log("deleted"),v(!1)}},children:Object(b.jsxs)("div",{className:m.a.itemTag,onClick:function(){return i(n.id)},style:{borderColor:D},children:[Object(b.jsx)("div",{className:m.a.itemTagName,children:n.name}),Object(b.jsxs)("div",{className:m.a.itemTagTime,children:[Object(b.jsx)(O.a,{style:{color:t}}),y<=7?"".concat(f(x(new Date),n.expireDate)," \u5929\u540e\u8fc7\u671f"):"".concat(n.expireDate," \u8fc7\u671f")]}),n.id===o&&n.comment&&""!==n.comment&&Object(b.jsxs)("div",{className:m.a.itemTagComment,children:[" ",n.comment," "]}),n.id===o&&Object(b.jsxs)("div",{className:m.a.itemTagMore,children:[Object(b.jsx)(C.a,{style:{color:"#43a047"},onClick:function(){j(n.name,n.category,n.expireDate,n.comment),c.push("./new-item")}}),Object(b.jsx)(p.a,{color:"secondary",style:{marginLeft:"5px"},onClick:function(){v(!0)}})]}),Object(b.jsx)(I,{})]})})},F=n(54),P=n.n(F),M=[{id:"item-001",name:"\u732a\u8089",category:"meat",expireDate:"2021-08-19",comment:"\u51b0\u7bb1\u51b7\u51bb\u5ba4"},{id:"item-002",name:"\u9e21\u7fc5",category:"meat",expireDate:"2021-08-06",comment:"\u4eca\u65e9\u5403\u6389"},{id:"item-003",name:"\u897f\u5170\u82b1",category:"vegetables",expireDate:"2021-08-10",comment:"\u51b7\u85cf\u7b2c\u4e09\u5c42"}],H=n(65),E=n.n(H);var A=function(){var e=Object(s.g)(),t=Object(a.useContext)(Y),n=t.search,c=t.setSearch,r=t.sort,o=t.setSort;return Object(b.jsxs)("div",{className:m.a.toolbar,children:[Object(b.jsx)("input",{placeholder:"\u641c\u7d22",value:n,onChange:function(e){c(e.target.value)}}),Object(b.jsxs)("div",{className:m.a.toolbarToggle,children:[Object(b.jsx)("input",{type:"checkbox",id:m.a.toolbarCheckbox,value:r,onChange:function(){o(!r)}}),Object(b.jsx)("label",{htmlFor:m.a.toolbarCheckbox,children:"\u7d27\u51d1\u6a21\u5f0f"})]}),Object(b.jsxs)("div",{onClick:function(){e.push("./new-item")},style:{display:"flex",alignItems:"center",fontSize:"0.9em",position:"absolute",right:"12px"},children:[Object(b.jsx)(E.a,{style:{marginRight:"3px"}})," \u6dfb\u52a0\u9879\u76ee"]})]})};function z(e,t){var n=new Date(e).getTime()-new Date(t).getTime();return n<0?-1:n>0?1:0}var Y=Object(a.createContext)(),G=Object(a.createContext)();var J=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),i=o[0],s=o[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),x=m[0],u=m[1];return Object(b.jsx)(Y.Provider,{value:{search:i,setSearch:s,sort:x,setSort:u},children:Object(b.jsxs)(G.Provider,{value:{focus:n,setFocus:c},children:[Object(b.jsx)(A,{}),x?Object(b.jsx)("div",{children:M.filter((function(e){return e.name.includes(i)||P()(e.name,{removeTone:!0,removeSpace:!1}).includes(i)})).sort((function(e,t){return z(e.expireDate,t.expireDate)})).map((function(e){return Object(b.jsx)(B,{item:e},e.id)}))}):Object(b.jsx)("div",{children:h.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(d,{category:e},e.id),M.filter((function(t){return t.category===e.id})).filter((function(e){return e.name.includes(i)||P()(e.name,{removeTone:!0,removeSpace:!1}).includes(i)})).sort((function(e,t){return z(e.expireDate,t.expireDate)})).map((function(e){return Object(b.jsx)(B,{item:e},e.id)}))]})}))})]})})};var R=function(){return Object(b.jsx)("div",{children:"Account"})},q=n(17),L=n.n(q),Q=n(68),K=n.n(Q),U=(n(91),n(118)),V=8.64*Math.pow(10,7),W=6*Math.pow(10,4),X=(new Date).getTimezoneOffset();var Z=n(69),$=n.n(Z),ee=n(70),te=n.n(ee);var ne=function(){var e=Object(s.g)(),t=Object(a.useContext)(S),n=t.name,c=t.setName,r=t.category,o=t.setCategory,i=t.comment,j=t.setComment,d=t.expireDate,u=t.setExpireDate,O=t.expireInDays,g=t.setExpireInDays,v=t.resetNewItem,p=Object(a.useState)(!1),_=Object(l.a)(p,2),C=_[0],y=_[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:m.a.toolbar,children:Object(b.jsxs)("div",{className:L.a.headerBackBtn,onClick:function(){e.goBack()},children:[Object(b.jsx)(K.a,{})," \u8fd4\u56de"]})}),Object(b.jsxs)("form",{className:L.a.form,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:L.a.name,children:"\u540d\u79f0"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{id:L.a.name,className:L.a.formInput,value:n,onChange:function(e){c(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:L.a.category,children:"\u5206\u7c7b"})," ",Object(b.jsx)("br",{}),Object(b.jsxs)("select",{id:L.a.category,value:r,onChange:function(e){o(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"----- \u8bf7\u9009\u62e9\u5206\u7c7b -----"}),h.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("label",{children:"\u4fdd\u8d28\u671f"}),Object(b.jsxs)("div",{id:L.a.toggleDiv,children:[Object(b.jsx)("input",{id:"toggle",type:"checkbox",value:C,onChange:function(){y(!C)}}),Object(b.jsx)("label",{htmlFor:"toggle",children:"\u9009\u53d6\u65e5\u671f"})]})]}),C?Object(b.jsx)("input",{id:L.a.expireDate,type:"date",value:d,onChange:function(e){u(e.target.value),g(f(x(new Date),e.target.value))}}):Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)("input",{id:L.a.expireInDays,type:"number",value:O,onChange:function(e){var t,n;g(e.target.value),u((t=x(new Date),n=e.target.value,x(new Date(new Date(t).getTime()+n*V+X*W))))}}),Object(b.jsx)("label",{htmlFor:L.a.expireInDays,children:" \u5929\u540e\u8fc7\u671f"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:L.a.comment,children:"\u5907\u6ce8"})," ",Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{id:L.a.comment,rows:3,value:i,onChange:function(e){j(e.target.value)}})]}),Object(b.jsxs)("div",{className:L.a.formSubmit,children:[Object(b.jsxs)(U.a,{style:{fontSize:"1rem",color:"red"},onClick:v,children:[Object(b.jsx)($.a,{}),"\u6e05\u9664"]}),Object(b.jsxs)(U.a,{variant:"contained",style:{fontSize:"1rem",color:"#F0F0F0",backgroundColor:"#B05B3B"},onClick:function(){console.log(n,r,d,i)},children:[Object(b.jsx)(te.a,{style:{marginRight:"0.15em"}}),"\u4fdd\u5b58"]})]})]})]})};var ae=function(){return Object(b.jsx)(T,{children:Object(b.jsx)(i.a,{basename:"/food-reminder",children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{path:"/home",children:Object(b.jsx)(J,{})}),Object(b.jsx)(s.b,{path:"/new-item",children:Object(b.jsx)(ne,{})}),Object(b.jsx)(s.b,{path:"/account",children:Object(b.jsx)(R,{})}),Object(b.jsxs)(s.b,{path:"/",children:[Object(b.jsx)(s.a,{to:"/home"}),Object(b.jsx)("div",{children:"Empty Page"})]})]})})})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ae,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.f7cab9e0.chunk.js.map