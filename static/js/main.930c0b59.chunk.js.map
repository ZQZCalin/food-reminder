{"version":3,"sources":["styles/Home.module.css","styles/NewPage.module.css","components/Header.js","utils/dateParser.js","utils/categoryData.js","utils/dateSubtract.js","contexts/NewItemContext.js","utils/dateCompare.js","utils/data.js","components/ItemTag.js","components/Toolbar.js","pages/Home.js","pages/Account.js","utils/dateAdd.js","pages/NewItem.js","App.js","index.js"],"names":["module","exports","Header","category","className","css","header","style","color","textColor","backgroundColor","name","dateParser","date","month","getMonth","day","getDate","year","getFullYear","length","join","categories","id","day2ms","strDateSubtract","strDate1","strDate2","Math","floor","Date","getTime","NewItemContext","createContext","NewItemContextProvider","props","useState","setId","setName","setCategory","comment","setComment","expireDate","setExpireDate","expireInDays","setExpireInDays","setNewItem","_id","_name","_category","_expireDate","_comment","Provider","value","resetNewItem","children","strDateCompare","diff","data","UserDataContext","UserDataContextProvider","userData","setUserData","addItem","_item","concat","deleteItem","filter","item","editItem","map","DialogContext","DeleteDialog","useContext","open","setOpen","handleDelete","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogActions","onClick","dialogCancelBtn","dialogConfirmBtn","ItemTag","clockColor","history","useHistory","ItemContext","focus","setFocus","find","isExpired","borderColor","itemTag","boxShadow","itemTagName","itemTagTime","itemTagComment","itemTagMore","push","marginLeft","Toolbar","ToolbarContext","search","setSearch","sort","setSort","toolbar","placeholder","onChange","e","target","toolbarToggle","type","toolbarCheckbox","htmlFor","display","alignItems","fontSize","position","right","marginRight","Home","includes","pinyin","removeTone","removeSpace","item1","item2","Account","min2ms","timeZoneOffset","getTimezoneOffset","NewPage","toggleTime","setToggleTime","cssHome","headerBackBtn","goBack","form","formInput","justifyContent","toggleDiv","textAlign","strDate","days","rows","formSubmit","Button","variant","newItem","error","alert","uuidv4","App","basename","process","path","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.930c0b59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemTag\":\"Home_itemTag__2tM5m\",\"itemTagTime\":\"Home_itemTagTime__3MI3S\",\"itemTagComment\":\"Home_itemTagComment__1haJH\",\"itemTagMore\":\"Home_itemTagMore__ovSbv\",\"toolbar\":\"Home_toolbar__3AGqh\",\"toolbarToggle\":\"Home_toolbarToggle__2oSg7\",\"toolbarCheckbox\":\"Home_toolbarCheckbox__3HxwP\",\"header\":\"Home_header__31p1I\",\"dialogCancelBtn\":\"Home_dialogCancelBtn__2OS-A\",\"dialogConfirmBtn\":\"Home_dialogConfirmBtn__3bM_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerBackBtn\":\"NewPage_headerBackBtn__1Gbkn\",\"form\":\"NewPage_form__1OlwF\",\"toggleDiv\":\"NewPage_toggleDiv__2rY4A\",\"formSubmit\":\"NewPage_formSubmit__14eAv\",\"name\":\"NewPage_name__3yGes\",\"category\":\"NewPage_category__3YlE6\",\"expireInDays\":\"NewPage_expireInDays__32Y4v\",\"expireDate\":\"NewPage_expireDate__2knjQ\",\"comment\":\"NewPage_comment__37k5I\"};","import css from \"../styles/Home.module.css\";\r\n\r\nfunction Header ({category}) {\r\n\r\n  return (\r\n    <div className={css.header} style={{\r\n      color: category.textColor,\r\n      backgroundColor: category.color\r\n    }}>\r\n      {category.name}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","// parse date object to yyyy-mm-dd\r\n// @param Date: date\r\nfunction dateParser(date) {\r\n  \r\n  let month = \"\" + (date.getMonth() + 1);\r\n  let day = \"\" + date.getDate();\r\n  const year = \"\" + date.getFullYear();\r\n\r\n  if (month.length < 2)\r\n    month = \"0\" + month;\r\n  if (day.length < 2)\r\n    day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n}\r\n\r\nexport default dateParser;","export const categories = [\r\n  {\r\n    name: \"水果\",\r\n    id: \"fruits\",  // used for database\r\n    color: \"#42a5f5\",\r\n    textColor: \"#f5f5f5\",\r\n  },\r\n  {\r\n    name: \"蔬菜\",\r\n    id: \"vegetables\",\r\n    color: \"#8bc34a\",\r\n    textColor: \"#f5f5f5\",\r\n  },\r\n  {\r\n    name: \"肉类\",\r\n    id: \"meat\",\r\n    color: \"#FF5722\",\r\n    textColor: \"#f5f5f5\",\r\n  },\r\n  {\r\n    name: \"干货\",\r\n    id: \"dry-foods\",\r\n    color: \"#FEA82F\",\r\n    textColor: \"#f5f5f5\",\r\n  },\r\n  {\r\n    name: \"其他\",\r\n    id: \"others\",\r\n    color: \"#cfd8dc\",\r\n    textColor: \"#757575\",\r\n  },\r\n];","// subtract d1 - d2 and return day difference\r\n\r\nconst day2ms = 8.64*10**7;\r\n\r\nfunction dateSubtract(date1, date2) {\r\n\r\n}\r\n\r\nfunction strDateSubtract(strDate1, strDate2) {\r\n  return Math.floor((\r\n    new Date(strDate1).getTime()\r\n    - new Date(strDate2).getTime()\r\n  ) / day2ms);\r\n}\r\n\r\nexport { dateSubtract, strDateSubtract };","import { createContext, useState } from \"react\";\r\nimport dateParser from \"../utils/dateParser\";\r\nimport { strDateSubtract } from \"../utils/dateSubtract\";\r\n\r\nexport const NewItemContext = createContext();\r\n\r\nfunction NewItemContextProvider(props) {\r\n\r\n  const [id, setId] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [expireDate, setExpireDate] = useState(dateParser(new Date()));\r\n  const [expireInDays, setExpireInDays] = useState(0);\r\n\r\n  const setNewItem = ({_id, _name, _category, _expireDate, _comment}) => {\r\n    setId(_id); setName(_name); setCategory(_category); setComment(_comment);\r\n    setExpireDate(_expireDate); \r\n    setExpireInDays( strDateSubtract(_expireDate, dateParser(new Date())) );\r\n  }\r\n\r\n  const resetNewItem = () => {\r\n    setNewItem({\r\n      _id: \"\", _name: \"\", _category: \"\", _expireDate: dateParser(new Date()), _comment: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <NewItemContext.Provider value={{\r\n      id, setId,\r\n      name, setName, \r\n      category, setCategory, \r\n      comment, setComment,\r\n      expireDate, setExpireDate, \r\n      expireInDays, setExpireInDays,\r\n      setNewItem, resetNewItem,\r\n    }}>\r\n      {props.children}\r\n    </NewItemContext.Provider>\r\n  );\r\n}\r\n\r\nexport default NewItemContextProvider;","// return -1 if d1 < d2; 0 if d1 = d2; 1 if d1 > d2\r\n\r\nfunction strDateCompare(strDate1, strDate2) {\r\n  const diff = new Date(strDate1).getTime() - new Date(strDate2).getTime();\r\n  if (diff < 0) {\r\n    return -1;\r\n  } else if (diff > 0) {\r\n    return 1;\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport { strDateCompare };","import { createContext, useState } from \"react\";\r\n\r\nexport const data = [\r\n  {\r\n    id: \"item-001\",\r\n    name: \"猪肉\",\r\n    category: \"meat\",\r\n    expireDate: \"2021-08-19\",\r\n    comment: \"冰箱冷冻室\",\r\n  },\r\n  {\r\n    id: \"item-002\",\r\n    name: \"鸡翅\",\r\n    category: \"meat\",\r\n    expireDate: \"2021-08-06\",\r\n    comment: \"今早吃掉\",\r\n  },\r\n  {\r\n    id: \"item-003\",\r\n    name: \"西兰花\",\r\n    category: \"vegetables\",\r\n    expireDate: \"2021-08-10\",\r\n    comment: \"冷藏第三层\",\r\n  }\r\n];\r\n\r\nexport const UserDataContext = createContext();\r\n\r\nfunction UserDataContextProvider(props) {\r\n\r\n  const [userData, setUserData] = useState(data);\r\n\r\n  // add new item\r\n  const addItem = (_item) => {\r\n    setUserData(userData.concat([_item]));\r\n  };\r\n\r\n  // delete existing item\r\n  const deleteItem = (_item) => {\r\n    setUserData(userData.filter(item => item.id !== _item.id));\r\n  };\r\n\r\n  // edit existing item\r\n  const editItem = (_item) => {\r\n    setUserData(userData.map(item => item.id !== _item.id ? item : _item ));\r\n  };\r\n\r\n  return (\r\n    <UserDataContext.Provider value={{\r\n      userData, addItem, deleteItem, editItem,\r\n    }} >\r\n      {props.children}\r\n    </UserDataContext.Provider>\r\n  );\r\n}\r\n\r\nexport default UserDataContextProvider;","import PropTypes from 'prop-types';\r\nimport { createContext, useContext, useState } from 'react';\r\nimport { ItemContext } from '../pages/Home.js';\r\nimport css from '../styles/Home.module.css';\r\nimport dateParser from '../utils/dateParser.js';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport { categories } from \"../utils/categoryData\";\r\nimport { strDateSubtract } from \"../utils/dateSubtract\";\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { NewItemContext } from '../contexts/NewItemContext.js';\r\nimport { strDateCompare } from '../utils/dateCompare.js';\r\nimport { UserDataContext } from '../utils/data.js';\r\n\r\nconst DialogContext = createContext();\r\n\r\nfunction ItemTag({ item }) {\r\n\r\n  const history = useHistory();\r\n\r\n  // context\r\n  const { focus, setFocus } = useContext(ItemContext);\r\n  const handleClick = () => setFocus(item.id);\r\n\r\n  // edit item\r\n  const { setNewItem } = useContext(NewItemContext);\r\n\r\n  // delete dialog\r\n  const [open, setOpen] = useState(false);\r\n\r\n  // delete function\r\n  const { deleteItem } = useContext(UserDataContext);\r\n  const handleDelete = () => {\r\n    deleteItem(item);\r\n    setOpen(false);   // close dialog\r\n  };\r\n\r\n  // attr\r\n  const category = categories.find(category => category.id === item.category);\r\n  const diff = strDateSubtract(item.expireDate, dateParser(new Date()));\r\n  const isExpired = diff < 0;\r\n\r\n  let clockColor;\r\n  if (isExpired || diff <= 3) {\r\n    clockColor = \"#c23b0a\"; // red\r\n  } else if (diff <= 7) {\r\n    clockColor = \"#cf9911\"; // orange\r\n  } else {\r\n    clockColor = \"#2b9611\"; // green\r\n  }\r\n\r\n  const borderColor = category.color;\r\n\r\n  // module\r\n  return (\r\n    <DialogContext.Provider value={{ open, setOpen, handleDelete }} >\r\n      <div className={css.itemTag} onClick={handleClick} style={{\r\n        borderColor: borderColor, \r\n        boxShadow: isExpired ? \"3px 3px 8px #c23b0a\" : \"3px 3px 8px #cfcfcf\",\r\n      }} >\r\n        <div className={css.itemTagName}>\r\n          {item.name}\r\n        </div>\r\n        <div className={css.itemTagTime} style={{color: isExpired? \"red\" : \"inherit\"}} >\r\n          <ScheduleIcon style={{\r\n            color: clockColor,\r\n          }} />\r\n          {isExpired ?\r\n            \"已经过期\" :\r\n            (diff <= 7 ?\r\n              `${diff} 天后过期` :\r\n              `${item.expireDate} 过期`)\r\n          }\r\n        </div>\r\n        {item.id === focus && item.comment && item.comment !== \"\" &&\r\n          <div className={css.itemTagComment}> {item.comment} </div>\r\n        }\r\n        {item.id === focus &&\r\n          <div className={css.itemTagMore}>\r\n            <InfoOutlinedIcon style={{ color: \"#43a047\" }}\r\n              onClick={() => {\r\n                setNewItem({\r\n                  _id: item.id, _name: item.name, _category: item.category,\r\n                  _expireDate: item.expireDate, _comment: item.comment,\r\n                });\r\n                history.push('./new-item');\r\n              }} />\r\n            <CancelIcon color=\"secondary\" style={{ marginLeft: \"5px\" }}\r\n              onClick={() => { setOpen(true) }} />\r\n          </div>\r\n        }\r\n        <DeleteDialog />\r\n      </div>\r\n    </DialogContext.Provider>\r\n  );\r\n}\r\n\r\nfunction DeleteDialog() {\r\n  const { open, setOpen, handleDelete } = useContext(DialogContext);\r\n  const handleClose = () => { setOpen(false) };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} >\r\n      <DialogTitle>确认删除？</DialogTitle>\r\n      <DialogContent>是否要删除这项物品？一旦确认，该物品将被永久删除。</DialogContent>\r\n      <DialogActions>\r\n        <div onClick={handleClose} className={css.dialogCancelBtn} >取消</div>\r\n        <div onClick={handleDelete} className={css.dialogConfirmBtn} >确认</div>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nItemTag.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    category: PropTypes.string,\r\n    expireDate: PropTypes.string,\r\n    comment: PropTypes.string\r\n  })\r\n};\r\n\r\nexport default ItemTag;","import css from \"../styles/Home.module.css\";\r\nimport CachedOutlinedIcon from '@material-ui/icons/CachedOutlined';\r\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\r\nimport { useContext } from \"react\";\r\nimport { ToolbarContext } from \"../pages/Home\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NewItemContext } from \"../contexts/NewItemContext\";\r\n\r\nfunction Toolbar() {\r\n\r\n  // context\r\n  const history = useHistory();\r\n  const { search, setSearch, sort, setSort } = useContext(ToolbarContext);\r\n  const { resetNewItem } = useContext(NewItemContext);\r\n\r\n  // events\r\n  const handleSearchChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={css.toolbar}>\r\n      <input placeholder={\"搜索\"} value={search} onChange={handleSearchChange} />\r\n\r\n      <div className={css.toolbarToggle}>\r\n        <input type=\"checkbox\" id={css.toolbarCheckbox} value={sort} onChange={() => { setSort(!sort) }} />\r\n        <label htmlFor={css.toolbarCheckbox} >紧凑模式</label>\r\n      </div>\r\n\r\n      <div onClick={() => { resetNewItem(); history.push('./new-item') }} style={{\r\n        display: \"flex\", alignItems: \"center\", fontSize: \"0.9em\", position: \"absolute\", right: \"12px\"\r\n      }}>\r\n        <AddBoxOutlinedIcon style={{ marginRight: \"3px\" }} /> 添加项目\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;","import { createContext, useContext, useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport ItemTag from \"../components/ItemTag\";\r\nimport pinyin from \"chinese-to-pinyin\";\r\nimport { UserDataContext } from \"../utils/data\";\r\nimport { categories } from \"../utils/categoryData\";\r\nimport Toolbar from \"../components/Toolbar\";\r\nimport { strDateCompare } from \"../utils/dateCompare\";\r\n\r\nexport const ToolbarContext = createContext();\r\nexport const ItemContext = createContext();\r\n\r\nfunction Home() {\r\n\r\n  // data context\r\n  const { userData } = useContext(UserDataContext);\r\n\r\n  // item context\r\n  const [focus, setFocus] = useState(\"\");\r\n\r\n  // toolbar context\r\n  const [search, setSearch] = useState(\"\");\r\n  const [sort, setSort] = useState(false); // true: sort by time; false: sort by category\r\n\r\n  // clear focus upon state change\r\n\r\n  // module\r\n  return (\r\n    <ToolbarContext.Provider value={{\r\n      search, setSearch,\r\n      sort, setSort,\r\n    }}>\r\n      <ItemContext.Provider value={{\r\n        focus, setFocus,\r\n      }}>\r\n        <Toolbar />\r\n\r\n        {sort ?\r\n          <div>\r\n            {\r\n              userData.filter(item => item.name.includes(search)\r\n                || pinyin(item.name, { removeTone: true, removeSpace: false }).includes(search))\r\n                .sort((item1, item2) => strDateCompare(item1.expireDate, item2.expireDate))\r\n                .map(item => <ItemTag item={item} key={item.id} />)\r\n            }\r\n          </div> :\r\n          <div>\r\n            {\r\n              categories.map(category => (\r\n                <div key={category.id}>\r\n                  <Header category={category} />\r\n                  {\r\n                    userData.filter(item => item.category===category.id)\r\n                      .filter(item => item.name.includes(search)\r\n                      || pinyin(item.name, { removeTone: true, removeSpace: false }).includes(search))\r\n                      .sort((item1, item2) => strDateCompare(item1.expireDate, item2.expireDate))\r\n                      .map(item => <ItemTag item={item} key={item.id} />)\r\n                  }\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        }\r\n      </ItemContext.Provider>\r\n    </ToolbarContext.Provider>\r\n  );\r\n}\r\n\r\n\r\nexport default Home;","\r\n\r\nfunction Account () {\r\n\r\n  return (\r\n    <div>\r\n      Account\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Account;","// add n days to a certain date\r\n\r\nimport dateParser from \"./dateParser\";\r\n\r\nconst day2ms = 8.64*10**7;\r\nconst min2ms = 6*10**4;\r\nconst timeZoneOffset = new Date().getTimezoneOffset(); \r\n\r\n// @param date: Date() object\r\n// return: Date() object\r\nfunction dateAdd(date, days) {\r\n\r\n}\r\n\r\n// @param strDate: string \"yyyy-mm-dd\"\r\n// return: string \"yyyy-mm-dd\"\r\nfunction strDateAdd(strDate, days) {\r\n  return dateParser(\r\n    new Date(\r\n      new Date(strDate).getTime() // initial date\r\n      + days * day2ms             // day gap\r\n      + timeZoneOffset * min2ms   // time zone correction\r\n    )\r\n  );\r\n}\r\n\r\nexport { dateAdd, strDateAdd }","import { categories } from \"../utils/categoryData\";\r\nimport cssHome from \"../styles/Home.module.css\";\r\nimport css from \"../styles/NewPage.module.css\"\r\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { useContext, useState } from \"react\";\r\nimport dateParser from \"../utils/dateParser\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { strDateAdd } from \"../utils/dateAdd\";\r\nimport { strDateSubtract } from \"../utils/dateSubtract\";\r\nimport { NewItemContext } from \"../contexts/NewItemContext\";\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { UserDataContext } from \"../utils/data\";\r\nimport { strDateCompare } from \"../utils/dateCompare\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction NewPage() {\r\n\r\n  const history = useHistory();\r\n\r\n  // save item / edit item\r\n  const { addItem, editItem } = useContext(UserDataContext);\r\n\r\n  // form context\r\n  const {\r\n    id, setId, name, setName, category, setCategory, comment, setComment,\r\n    expireDate, setExpireDate, expireInDays, setExpireInDays,\r\n    resetNewItem,\r\n  } = useContext(NewItemContext);\r\n\r\n  const [toggleTime, setToggleTime] = useState(false); // true: time picker; false: xxx days from now\r\n\r\n  // submission: save or edit item\r\n  const handleSubmit = () => {\r\n    const newItem = {\r\n      id: id,\r\n      name: name,\r\n      category: category,\r\n      expireDate: expireDate,\r\n      comment: comment,\r\n    };\r\n\r\n    // validation schema\r\n    let error = [];\r\n    if (name === \"\") {\r\n      error.push(\"请输入名字\");\r\n    }\r\n    if (category === \"\") {\r\n      error.push(\"请选择种类\");\r\n    }\r\n    if (strDateCompare(expireDate, dateParser(new Date())) == -1 ) {\r\n      error.push(\"过期日期不能为过去的日期\");\r\n    }\r\n    if (error.length != 0) {\r\n      alert(error.join(\"\\n\"));  // error message\r\n      return null;\r\n    }\r\n\r\n    // save to database\r\n    if (id === \"\") {\r\n      // save item\r\n      addItem({\r\n        ...newItem,\r\n        id: uuidv4(),\r\n      });\r\n    } else {\r\n      // edit item\r\n      editItem(newItem);\r\n    }\r\n\r\n    // reset and redirect\r\n    resetNewItem();\r\n    history.push(\"./home\");\r\n  };\r\n\r\n  // DOM\r\n  return (\r\n    <div>\r\n      <div className={cssHome.toolbar}>\r\n        <div className={css.headerBackBtn} onClick={() => { history.goBack() }} >\r\n          <ArrowBackOutlinedIcon /> 返回\r\n        </div>\r\n      </div>\r\n\r\n      <form className={css.form}>\r\n        <div>\r\n          <label htmlFor={css.name}>名称</label> <br />\r\n          <input id={css.name} className={css.formInput}\r\n            value={name} onChange={(e) => { setName(e.target.value) }}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor={css.category} >分类</label> <br />\r\n          <select id={css.category}\r\n            value={category} onChange={(e) => { setCategory(e.target.value) }}\r\n          >\r\n            <option value=\"\">----- 请选择分类 -----</option>\r\n            {categories.map(category =>\r\n              <option value={category.id} key={category.id}>\r\n                {category.name}\r\n              </option>\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <label>保质期</label>\r\n            <div id={css.toggleDiv}>\r\n              <input id=\"toggle\" type=\"checkbox\"\r\n                value={toggleTime} onChange={() => { setToggleTime(!toggleTime) }}\r\n              />\r\n              <label htmlFor=\"toggle\" >选取日期</label>\r\n            </div>\r\n          </div>\r\n          {toggleTime ?\r\n            <input id={css.expireDate} type=\"date\" value={expireDate}\r\n              onChange={(e) => {\r\n                setExpireDate(e.target.value);\r\n                setExpireInDays(strDateSubtract(\r\n                  e.target.value, dateParser(new Date())\r\n                ));\r\n              }}\r\n            /> :\r\n            <div style={{ textAlign: \"center\" }}>\r\n              <input id={css.expireInDays} type=\"number\"\r\n                value={expireInDays} onChange={(e) => {\r\n                  setExpireInDays(e.target.value);\r\n                  setExpireDate(strDateAdd(\r\n                    dateParser(new Date()), e.target.value\r\n                  ))\r\n                }}\r\n              />\r\n              <label htmlFor={css.expireInDays}> 天后过期</label>\r\n            </div>\r\n          }\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor={css.comment} >备注</label> <br />\r\n          <textarea id={css.comment} rows={3}\r\n            value={comment} onChange={(e) => { setComment(e.target.value) }}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className={css.formSubmit}>\r\n          <Button style={{ fontSize: \"1rem\", color: \"red\" }}\r\n            onClick={ resetNewItem }\r\n          ><DeleteForeverIcon />清除</Button>\r\n          <Button variant=\"contained\" style={{\r\n            fontSize: \"1rem\",\r\n            color: \"#F0F0F0\", backgroundColor: \"#B05B3B\",\r\n          }}\r\n            onClick={handleSubmit}\r\n          ><SaveIcon style={{marginRight: \"0.15em\"}} />保存</Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewPage;","import { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n// pages\nimport Home from './pages/Home';\nimport Account from './pages/Account';\nimport NewPage from './pages/NewItem';\nimport NewItemContextProvider from './contexts/NewItemContext';\nimport UserDataContextProvider from './utils/data';\n\nfunction App() {\n\n  return (\n    <div>\n      <UserDataContextProvider>\n        <NewItemContextProvider>\n          <Router basename={process.env.PUBLIC_URL}>\n            <Switch>\n              <Route path='/home'>\n                <Home />\n              </Route>\n\n              <Route path='/new-item'>\n                <NewPage />\n              </Route>\n\n              <Route path='/account'>\n                <Account />\n              </Route>\n\n              <Route path='/'>\n                <Redirect to='/home' />\n                <div>\n                  Empty Page\n                </div>\n              </Route>\n            </Switch>\n          </Router>\n        </NewItemContextProvider>\n      </UserDataContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}