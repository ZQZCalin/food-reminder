(this["webpackJsonpfood-reminder"]=this["webpackJsonpfood-reminder"]||[]).push([[0],{14:function(e,t,n){e.exports={itemTag:"Home_itemTag__2tM5m",itemTagTime:"Home_itemTagTime__3MI3S",itemTagComment:"Home_itemTagComment__1haJH",itemTagMore:"Home_itemTagMore__ovSbv",toolbar:"Home_toolbar__3AGqh",toolbarToggle:"Home_toolbarToggle__2oSg7",toolbarCheckbox:"Home_toolbarCheckbox__3HxwP",header:"Home_header__31p1I",dialogCancelBtn:"Home_dialogCancelBtn__2OS-A",dialogConfirmBtn:"Home_dialogConfirmBtn__3bM_B"}},18:function(e,t,n){e.exports={headerBackBtn:"NewPage_headerBackBtn__1Gbkn",form:"NewPage_form__1OlwF",toggleDiv:"NewPage_toggleDiv__2rY4A",formSubmit:"NewPage_formSubmit__14eAv",name:"NewPage_name__3yGes",category:"NewPage_category__3YlE6",expireInDays:"NewPage_expireInDays__32Y4v",expireDate:"NewPage_expireDate__2knjQ",comment:"NewPage_comment__37k5I"}},81:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=(n(81),n(37)),s=n(7),l=n(13),j=n(14),m=n.n(j),d=n(2);var b=function(e){var t=e.category;return Object(d.jsx)("div",{className:m.a.header,style:{color:t.textColor,backgroundColor:t.color},children:t.name})};var u=function(e){var t=""+(e.getMonth()+1),n=""+e.getDate(),a=""+e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[a,t,n].join("-")},x=n(60),O=n.n(x),h=[{name:"\u6c34\u679c",id:"fruits",color:"#42a5f5",textColor:"#f5f5f5"},{name:"\u852c\u83dc",id:"vegetables",color:"#8bc34a",textColor:"#f5f5f5"},{name:"\u8089\u7c7b",id:"meat",color:"#FF5722",textColor:"#f5f5f5"},{name:"\u5e72\u8d27",id:"dry-foods",color:"#FEA82F",textColor:"#f5f5f5"},{name:"\u5176\u4ed6",id:"others",color:"#cfd8dc",textColor:"#757575"}],g=8.64*Math.pow(10,7);function f(e,t){return Math.floor((new Date(e).getTime()-new Date(t).getTime())/g)}var v=n(65),p=n.n(v),_=n(64),C=n.n(_),y=n(119),D=n(122),w=n(117),N=n(118),S=Object(a.createContext)();var I=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],j=i[1],m=Object(a.useState)(""),b=Object(l.a)(m,2),x=b[0],O=b[1],h=Object(a.useState)(""),g=Object(l.a)(h,2),v=g[0],p=g[1],_=Object(a.useState)(u(new Date)),C=Object(l.a)(_,2),y=C[0],D=C[1],w=Object(a.useState)(0),N=Object(l.a)(w,2),I=N[0],T=N[1],k=function(e){var t=e._id,n=e._name,a=e._category,c=e._expireDate,o=e._comment;r(t),j(n),O(a),p(o),D(c),T(f(c,u(new Date)))};return Object(d.jsx)(S.Provider,{value:{id:c,setId:r,name:s,setName:j,category:x,setCategory:O,comment:v,setComment:p,expireDate:y,setExpireDate:D,expireInDays:I,setExpireInDays:T,setNewItem:k,resetNewItem:function(){k({_id:"",_name:"",_category:"",_expireDate:u(new Date),_comment:""})}},children:e.children})};function T(e,t){var n=new Date(e).getTime()-new Date(t).getTime();return n<0?-1:n>0?1:0}var k=[{id:"item-001",name:"\u732a\u8089",category:"meat",expireDate:"2021-08-19",comment:"\u51b0\u7bb1\u51b7\u51bb\u5ba4"},{id:"item-002",name:"\u9e21\u7fc5",category:"meat",expireDate:"2021-08-06",comment:"\u4eca\u65e9\u5403\u6389"},{id:"item-003",name:"\u897f\u5170\u82b1",category:"vegetables",expireDate:"2021-08-10",comment:"\u51b7\u85cf\u7b2c\u4e09\u5c42"}],B=Object(a.createContext)();var F=function(e){var t=Object(a.useState)(k),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(d.jsx)(B.Provider,{value:{userData:c,addItem:function(e){r(c.concat([e]))},deleteItem:function(e){r(c.filter((function(t){return t.id!==e.id})))},editItem:function(e){r(c.map((function(t){return t.id!==e.id?t:e})))}},children:e.children})},P=Object(a.createContext)();function H(){var e=Object(a.useContext)(P),t=e.open,n=e.setOpen,c=e.handleDelete,r=function(){n(!1)};return Object(d.jsxs)(y.a,{open:t,onClose:r,children:[Object(d.jsx)(D.a,{children:"\u786e\u8ba4\u5220\u9664\uff1f"}),Object(d.jsx)(w.a,{children:"\u662f\u5426\u8981\u5220\u9664\u8fd9\u9879\u7269\u54c1\uff1f\u4e00\u65e6\u786e\u8ba4\uff0c\u8be5\u7269\u54c1\u5c06\u88ab\u6c38\u4e45\u5220\u9664\u3002"}),Object(d.jsxs)(N.a,{children:[Object(d.jsx)("div",{onClick:r,className:m.a.dialogCancelBtn,children:"\u53d6\u6d88"}),Object(d.jsx)("div",{onClick:c,className:m.a.dialogConfirmBtn,children:"\u786e\u8ba4"})]})]})}var M=function(e){var t,n=e.item,c=Object(s.g)(),r=Object(a.useContext)(R),o=r.focus,i=r.setFocus,j=Object(a.useContext)(S).setNewItem,b=Object(a.useState)(!1),x=Object(l.a)(b,2),g=x[0],v=x[1],_=Object(a.useContext)(B).deleteItem,y=h.find((function(e){return e.id===n.category})),D=f(n.expireDate,u(new Date)),w=D<0;t=w||D<=3?"#c23b0a":D<=7?"#cf9911":"#2b9611";var N=y.color;return Object(d.jsx)(P.Provider,{value:{open:g,setOpen:v,handleDelete:function(){_(n),v(!1)}},children:Object(d.jsxs)("div",{className:m.a.itemTag,onClick:function(){return i(n.id)},style:{borderColor:N,boxShadow:w?"3px 3px 8px #c23b0a":"3px 3px 8px #cfcfcf"},children:[Object(d.jsx)("div",{className:m.a.itemTagName,children:n.name}),Object(d.jsxs)("div",{className:m.a.itemTagTime,style:{color:w?"red":"inherit"},children:[Object(d.jsx)(O.a,{style:{color:t}}),w?"\u5df2\u7ecf\u8fc7\u671f":D<=7?"".concat(D," \u5929\u540e\u8fc7\u671f"):"".concat(n.expireDate," \u8fc7\u671f")]}),n.id===o&&n.comment&&""!==n.comment&&Object(d.jsxs)("div",{className:m.a.itemTagComment,children:[" ",n.comment," "]}),n.id===o&&Object(d.jsxs)("div",{className:m.a.itemTagMore,children:[Object(d.jsx)(C.a,{style:{color:"#43a047"},onClick:function(){j({_id:n.id,_name:n.name,_category:n.category,_expireDate:n.expireDate,_comment:n.comment}),c.push("./new-item")}}),Object(d.jsx)(p.a,{color:"secondary",style:{marginLeft:"5px"},onClick:function(){v(!0)}})]}),Object(d.jsx)(H,{})]})})},E=n(54),A=n.n(E),z=n(66),Y=n.n(z);var G=function(){var e=Object(s.g)(),t=Object(a.useContext)(J),n=t.search,c=t.setSearch,r=t.sort,o=t.setSort,i=Object(a.useContext)(S).resetNewItem;return Object(d.jsxs)("div",{className:m.a.toolbar,children:[Object(d.jsx)("input",{placeholder:"\u641c\u7d22",value:n,onChange:function(e){c(e.target.value)}}),Object(d.jsxs)("div",{className:m.a.toolbarToggle,children:[Object(d.jsx)("input",{type:"checkbox",id:m.a.toolbarCheckbox,value:r,onChange:function(){o(!r)}}),Object(d.jsx)("label",{htmlFor:m.a.toolbarCheckbox,children:"\u7d27\u51d1\u6a21\u5f0f"})]}),Object(d.jsxs)("div",{onClick:function(){i(),e.push("./new-item")},style:{display:"flex",alignItems:"center",fontSize:"0.9em",position:"absolute",right:"12px"},children:[Object(d.jsx)(Y.a,{style:{marginRight:"3px"}})," \u6dfb\u52a0\u9879\u76ee"]})]})},J=Object(a.createContext)(),R=Object(a.createContext)();var q=function(){var e=Object(a.useContext)(B).userData,t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],j=i[1],m=Object(a.useState)(!1),u=Object(l.a)(m,2),x=u[0],O=u[1];return Object(d.jsx)(J.Provider,{value:{search:s,setSearch:j,sort:x,setSort:O},children:Object(d.jsxs)(R.Provider,{value:{focus:c,setFocus:r},children:[Object(d.jsx)(G,{}),x?Object(d.jsx)("div",{children:e.filter((function(e){return e.name.includes(s)||A()(e.name,{removeTone:!0,removeSpace:!1}).includes(s)})).sort((function(e,t){return T(e.expireDate,t.expireDate)})).map((function(e){return Object(d.jsx)(M,{item:e},e.id)}))}):Object(d.jsx)("div",{children:h.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{category:t}),e.filter((function(e){return e.category===t.id})).filter((function(e){return e.name.includes(s)||A()(e.name,{removeTone:!0,removeSpace:!1}).includes(s)})).sort((function(e,t){return T(e.expireDate,t.expireDate)})).map((function(e){return Object(d.jsx)(M,{item:e},e.id)}))]},t.id)}))})]})})};var L=function(){return Object(d.jsx)("div",{children:"Account"})},Q=n(55),K=n(18),U=n.n(K),V=n(69),W=n.n(V),X=(n(92),n(120)),Z=8.64*Math.pow(10,7),$=6*Math.pow(10,4),ee=(new Date).getTimezoneOffset();var te=n(70),ne=n.n(te),ae=n(71),ce=n.n(ae),re=n(121);var oe=function(){var e=Object(s.g)(),t=Object(a.useContext)(B),n=t.addItem,c=t.editItem,r=Object(a.useContext)(S),o=r.id,i=(r.setId,r.name),j=r.setName,b=r.category,x=r.setCategory,O=r.comment,g=r.setComment,v=r.expireDate,p=r.setExpireDate,_=r.expireInDays,C=r.setExpireInDays,y=r.resetNewItem,D=Object(a.useState)(!1),w=Object(l.a)(D,2),N=w[0],I=w[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:m.a.toolbar,children:Object(d.jsxs)("div",{className:U.a.headerBackBtn,onClick:function(){e.goBack()},children:[Object(d.jsx)(W.a,{})," \u8fd4\u56de"]})}),Object(d.jsxs)("form",{className:U.a.form,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:U.a.name,children:"\u540d\u79f0"})," ",Object(d.jsx)("br",{}),Object(d.jsx)("input",{id:U.a.name,className:U.a.formInput,value:i,onChange:function(e){j(e.target.value)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:U.a.category,children:"\u5206\u7c7b"})," ",Object(d.jsx)("br",{}),Object(d.jsxs)("select",{id:U.a.category,value:b,onChange:function(e){x(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"----- \u8bf7\u9009\u62e9\u5206\u7c7b -----"}),h.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("label",{children:"\u4fdd\u8d28\u671f"}),Object(d.jsxs)("div",{id:U.a.toggleDiv,children:[Object(d.jsx)("input",{id:"toggle",type:"checkbox",value:N,onChange:function(){I(!N)}}),Object(d.jsx)("label",{htmlFor:"toggle",children:"\u9009\u53d6\u65e5\u671f"})]})]}),N?Object(d.jsx)("input",{id:U.a.expireDate,type:"date",value:v,onChange:function(e){p(e.target.value),C(f(e.target.value,u(new Date)))}}):Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("input",{id:U.a.expireInDays,type:"number",value:_,onChange:function(e){var t,n;C(e.target.value),p((t=u(new Date),n=e.target.value,u(new Date(new Date(t).getTime()+n*Z+ee*$))))}}),Object(d.jsx)("label",{htmlFor:U.a.expireInDays,children:" \u5929\u540e\u8fc7\u671f"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:U.a.comment,children:"\u5907\u6ce8"})," ",Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{id:U.a.comment,rows:3,value:O,onChange:function(e){g(e.target.value)}})]}),Object(d.jsxs)("div",{className:U.a.formSubmit,children:[Object(d.jsxs)(X.a,{style:{fontSize:"1rem",color:"red"},onClick:y,children:[Object(d.jsx)(ne.a,{}),"\u6e05\u9664"]}),Object(d.jsxs)(X.a,{variant:"contained",style:{fontSize:"1rem",color:"#F0F0F0",backgroundColor:"#B05B3B"},onClick:function(){var t={id:o,name:i,category:b,expireDate:v,comment:O},a=[];if(""===i&&a.push("\u8bf7\u8f93\u5165\u540d\u5b57"),""===b&&a.push("\u8bf7\u9009\u62e9\u79cd\u7c7b"),-1==T(v,u(new Date))&&a.push("\u8fc7\u671f\u65e5\u671f\u4e0d\u80fd\u4e3a\u8fc7\u53bb\u7684\u65e5\u671f"),0!=a.length)return alert(a.join("\n")),null;""===o?n(Object(Q.a)(Object(Q.a)({},t),{},{id:Object(re.a)()})):c(t),y(),e.push("./home")},children:[Object(d.jsx)(ce.a,{style:{marginRight:"0.15em"}}),"\u4fdd\u5b58"]})]})]})]})};var ie=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(F,{children:Object(d.jsx)(I,{children:Object(d.jsx)(i.a,{basename:"/food-reminder",children:Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{path:"/home",children:Object(d.jsx)(q,{})}),Object(d.jsx)(s.b,{path:"/new-item",children:Object(d.jsx)(oe,{})}),Object(d.jsx)(s.b,{path:"/account",children:Object(d.jsx)(L,{})}),Object(d.jsxs)(s.b,{path:"/",children:[Object(d.jsx)(s.a,{to:"/home"}),Object(d.jsx)("div",{children:"Empty Page"})]})]})})})})})};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ie,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.930c0b59.chunk.js.map